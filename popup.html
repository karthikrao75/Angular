<!DOCTYPE html>
<html lang="en-US">
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-sanitize.js"></script>

<head>
<style>
table{
	border: 1px solid black;
}
th{
	background-color: #D2B4DE;
}
tr:nth-child(even) {background: #ECF0F1}
tr:nth-child(odd) {background: ##FDFEFE}
</style>
</head>
<body>
	<script>

	var app=angular.module("myAPP",['ngSanitize']);

	app.controller("myCtrl",function($scope,$window){
		$scope.json={"INCIDENTS":[{"Incident Number":"INC01","Incident Priority": "priority 3","Day's Open":"192","Assigned To":"karthik01"},{"Incident Number":"INC02","Incident Priority": "priority 4","Day's Open":"78","Assigned To":"karthik02"},{"Incident Number":"INC03","Incident Priority": "priority 2","Day's Open":"91","Assigned To":"karthik03"},{"Incident Number":"INC04","Incident Priority": "priority 1","Day's Open":"19","Assigned To":"karthik)04"}],"toAddress":["karthik","srikanth"]};

		$scope.submit=function(){
			$scope.incidents=$scope.json.INCIDENTS;
			var table="<table><thead><tr>";
			for(var key in $scope.incidents[0]){
				table=table+"<th>"+key+"</th>";
			};
			$scope.table=table+"</tr></thead><tbody>";
			angular.forEach($scope.incidents,function(incident){
				$scope.table=$scope.table+"<tr>";
			var priority=	incident["Incident Priority"];
				for (var key in incident) {
					if(angular.equals(key,"Day's Open")){
						$scope.table=$scope.table+"<td>"+incident[key]+"</td>";
					}
					else {
						$scope.table=$scope.table+"<td>"+incident[key]+"</td>";
					}
				}
				$scope.table=$scope.table+"</tr>";
			});
			$scope.table=$scope.table+"</tbody></table>";

			var $popup = $window.open("Popup.htm", "popup", "width=250,height=100,left=10,top=150");
			$popup.table=$scope.table;

		};

	});

	</script>
	<div ng-app="myAPP" ng-controller="myCtrl">
		<input type="button" value="submit" ng-click="submit()"/>
		<span ng-bind-html="table"></span>
	</div>
</body>
</html>
